<ResourceDictionary
   xmlns="https://github.com/avaloniaui"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:local="clr-namespace:gip.core.visualcontrols.avui">

  <ControlTheme x:Key="Filter" TargetType="local:VBMotor">
    <Setter Property="Template">
      <ControlTemplate>
        <Viewbox Stretch="Fill">
          <Canvas Width="130" Height="190">
            <Path x:Name="OpModeBack" Width="130" Height="190" Canvas.Left="0"
                  Canvas.Top="-3.05176e-005" Stretch="Fill"
                  Stroke="{TemplateBinding BorderBrushAuto}"
                  Fill="{TemplateBinding BorderBrushAuto}"
                  Data="F1 M 6,-3.05176e-005L 124,-3.05176e-005C 127.314,-3.05176e-005 130,2.68628 130,6.00002L 130,184C 130,187.314 127.314,190 124,190L 6,190C 2.68629,190 0,187.314 0,184L 0,6.00002C 0,2.68628 2.68629,-3.05176e-005 6,-3.05176e-005 Z "/>
            <Rectangle x:Name="RunStateFront" Width="104" Height="164" Canvas.Left="13" Canvas.Top="13" Stretch="Fill" StrokeThickness="4" StrokeJoin="Round"
                  Stroke="#FF000000"
                  Fill="{TemplateBinding FillBrushIdle}" />
            <Viewbox x:Name="Rotor" Width="50" Height="130" Canvas.Left="40" Canvas.Top="29">
              <Canvas Width="50" Height="130">
                <Viewbox x:Name="FilterOpMode" Width="50" Height="130" Canvas.Left="7.62939e-006" Canvas.Top="0">
                  <Canvas Width="50" Height="130">
                    <Path x:Name="Line" Width="10" Height="30" Canvas.Left="1.52588e-005" Canvas.Top="0" Stretch="Fill" StrokeThickness="10" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF545454" Data="F1 M 5.00002,5L 5.00002,25"/>
                    <Path x:Name="Line_1" Width="10" Height="30" Canvas.Left="0" Canvas.Top="100" Stretch="Fill" StrokeThickness="10" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF545454" Data="F1 M 5,105L 5,125"/>
                    <Path x:Name="Line_2" Width="10" Height="30" Canvas.Left="20" Canvas.Top="0" Stretch="Fill" StrokeThickness="10" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF545454" Data="F1 M 25,5L 25,25"/>
                    <Path x:Name="Line_3" Width="10" Height="30" Canvas.Left="20" Canvas.Top="100" Stretch="Fill" StrokeThickness="10" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF545454" Data="F1 M 25,105L 25,125"/>
                    <Path x:Name="Line_4" Width="10" Height="30" Canvas.Left="40" Canvas.Top="0" Stretch="Fill" StrokeThickness="10" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF545454" Data="F1 M 45,5L 45,25"/>
                    <Path x:Name="Line_5" Width="10" Height="30" Canvas.Left="40" Canvas.Top="100" Stretch="Fill" StrokeThickness="10" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF545454" Data="F1 M 45,105L 45,125"/>
                  </Canvas>
                </Viewbox>
                <Viewbox x:Name="FilterRunState" Width="50" Height="110" Canvas.Left="0" Canvas.Top="10">
                  <Canvas Width="50" Height="110">
                    <Path x:Name="Line_6" Width="10" Height="110" Canvas.Left="0" Canvas.Top="0" Stretch="Fill" StrokeThickness="10" StrokeJoin="Round" Stroke="#FF000000" Data="F1 M 5,5L 5,105"/>
                    <Path x:Name="Line_7" Width="10" Height="110" Canvas.Left="20" Canvas.Top="0" Stretch="Fill" StrokeThickness="10" StrokeJoin="Round" Stroke="#FF000000" Data="F1 M 25,5L 25,105"/>
                    <Path x:Name="Line_8" Width="10" Height="110" Canvas.Left="40" Canvas.Top="0" Stretch="Fill" StrokeThickness="10" StrokeJoin="Round" Stroke="#FF000000" Data="F1 M 45,5L 45,105"/>
                  </Canvas>
                </Viewbox>
              </Canvas>
            </Viewbox>
            <Viewbox x:Name="Glass" Width="100" Height="160" Canvas.Left="15" Canvas.Top="15.0001">
              <Canvas Width="100" Height="160">
                <Rectangle x:Name="Rectangle" Width="99.9999" Height="160" Canvas.Left="2.28882e-005" Canvas.Top="0" Stretch="Fill" StrokeThickness="1" StrokeJoin="Bevel">
                  <Rectangle.Stroke>
                    <RadialGradientBrush RadiusX="50%" RadiusY="50%" Center="50%,50%" GradientOrigin="50%,50%">
                      <RadialGradientBrush.GradientStops>
                        <GradientStop Color="#B3000000" Offset="0.00436681"/>
                        <GradientStop Color="#00000000" Offset="0.253275"/>
                        <GradientStop Color="#00000000" Offset="0.741525"/>
                        <GradientStop Color="#B3000000" Offset="1"/>
                      </RadialGradientBrush.GradientStops>
                      <RadialGradientBrush.Transform>
                        <TransformGroup>
                          <RotateTransform CenterX="1" CenterY="0.5" Angle="180"/>
                        </TransformGroup>
                      </RadialGradientBrush.Transform>
                    </RadialGradientBrush>
                  </Rectangle.Stroke>
                  <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="100%,50%" EndPoint="0%,50%">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#B3000000" Offset="0.00436681"/>
                        <GradientStop Color="#00000000" Offset="0.253275"/>
                        <GradientStop Color="#00000000" Offset="0.741525"/>
                        <GradientStop Color="#B3000000" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Rectangle.Fill>
                </Rectangle>
                <Path x:Name="Path" Width="100" Height="20" Canvas.Left="6.10352e-005" Canvas.Top="137.8" Stretch="Fill" Data="F1 M 47.5478,137.8L 52.5442,137.8C 73.2806,137.8 99.226,146.708 100,157.8L 6.10352e-005,157.8C 0.77681,146.708 26.8114,137.8 47.5478,137.8 Z ">
                  <Path.Fill>
                    <LinearGradientBrush StartPoint="100%,50%" EndPoint="0%,50%">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#0DFFFFFF" Offset="0.00847458"/>
                        <GradientStop Color="#CCFFFFFF" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Path.Fill>
                </Path>
                <Path x:Name="Path_9" Width="100" Height="20" Canvas.Left="6.10352e-005" Canvas.Top="2.19983" Stretch="Fill" Data="F1 M 47.5478,22.1998L 52.5442,22.1998C 73.2806,22.1998 99.226,13.2914 100,2.19983L 6.10352e-005,2.19983C 0.77681,13.2914 26.8114,22.1998 47.5478,22.1998 Z ">
                  <Path.Fill>
                    <LinearGradientBrush StartPoint="100%,50%" EndPoint="0%,50%">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#0DFFFFFF" Offset="0.00847458"/>
                        <GradientStop Color="#CCFFFFFF" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Path.Fill>
                </Path>
              </Canvas>
            </Viewbox>
          </Canvas>
        </Viewbox>
      </ControlTemplate>
    </Setter>

    <!-- Animation States: ReqRunState=True, RunState=False, IsTriggered=False -->
    <Style Selector="^[ReqRunState=True][RunState=False][IsTriggered=False] /template/ Rectangle#RunStateFront">
      <Setter Property="StrokeThickness" Value="8"/>
      <Setter Property="StrokeDashArray" Value="4,4"/>
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="StrokeDashOffset" Value="8"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Animation States: IsTriggered=True -->
    <Style Selector="^[IsTriggered=True] /template/ Rectangle#RunStateFront">
      <Setter Property="StrokeThickness" Value="2"/>
      <Setter Property="StrokeDashArray" Value="4,4"/>
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="StrokeDashOffset" Value="8"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- OperatingMode Manual -->
    <Style Selector="^[OperatingMode=Manual] /template/ Path#OpModeBack">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].BorderBrushManual}"/>
    </Style>

    <!-- OperatingMode Maintenance -->
    <Style Selector="^[OperatingMode=Maintenance] /template/ Path#OpModeBack">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].BorderBrushMaint}"/>
    </Style>

    <!-- OperatingMode InActive -->
    <Style Selector="^[OperatingMode=Inactive] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="Black"/>
    </Style>

    <!-- RunState True and FaultState Off -->
    <Style Selector="^[RunState=True][FaultState=Off] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushRunning}"/>
    </Style>

    <!-- IsInterlocked True and FaultState Off -->
    <Style Selector="^[IsInterlocked=True][FaultState=Off] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushInterlocked}"/>
    </Style>

    <!-- FaultState AlarmOrFault -->
    <Style Selector="^[FaultState=AlarmOrFault] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushFault}"/>
    </Style>
  </ControlTheme>
</ResourceDictionary>
