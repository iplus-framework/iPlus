<ResourceDictionary
   xmlns="https://github.com/avaloniaui"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:local="clr-namespace:gip.core.visualcontrols.avui">
  <ResourceDictionary.MergedDictionaries>
    <ResourceInclude Source="/Controls/VBMotor/Themes/Brushes.axaml"/>
  </ResourceDictionary.MergedDictionaries>

  <ControlTheme x:Key="Chain" TargetType="local:VBMotor">
    <Setter Property="Template">
      <ControlTemplate>
        <Viewbox Stretch="Fill">
          <Canvas x:Name="Ebene_1_3" Width="100" Height="14" Canvas.Left="0" Canvas.Top="0">
            <Path x:Name="OpModeBack" Width="99.9996" Height="14" Canvas.Left="0" Canvas.Top="-9.53674e-007" Stretch="Fill" StrokeThickness="0" StrokeJoin="Round"
                  Stroke="{TemplateBinding BorderBrushAuto}"
                  Fill="{TemplateBinding BorderBrushAuto}"
                  Data="F1 M 1,-9.53674e-007L 98.9996,-9.53674e-007C 99.5519,-9.53674e-007 99.9996,0.447712 99.9996,0.999999L 99.9996,13C 99.9996,13.5523 99.5519,14 98.9996,14L 1,14C 0.447715,14 0,13.5523 0,13L 0,0.999999C 0,0.447712 0.447715,-9.53674e-007 1,-9.53674e-007 Z "/>
            <Rectangle x:Name="RunStateFront" Width="101" Height="11" Canvas.Left="-0.5" Canvas.Top="1.49998" Stretch="Fill" StrokeJoin="Round" StrokeThickness="1"
                       Stroke="#FF000000"
                       Fill="{TemplateBinding FillBrushIdle}"/>
            <Rectangle x:Name="ScrewPlaceholder" Width="100" Height="10" Canvas.Left="4.19655e-007" Canvas.Top="2" Stretch="Fill" StrokeThickness="1" StrokeJoin="Round" Stroke="#00000000">
              <Rectangle.Fill>
                <DrawingBrush TileMode="Tile" Stretch="Fill" AlignmentY="Center" AlignmentX="Left"
                              DestinationRect="{Binding RelativeSource={RelativeSource TemplatedParent},Path=TileViewport}"
                              Drawing="{StaticResource ResourceKey=FillChain}" />
              </Rectangle.Fill>
            </Rectangle>
            <Viewbox x:Name="Glass" Width="100" Height="10" Canvas.Left="2.03451e-005" Canvas.Top="2" IsVisible="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=GlassEffect}">
              <Canvas Width="100" Height="10">
                <Rectangle x:Name="Rectangle" Width="100" Height="10" Canvas.Left="1.24598e-005" Canvas.Top="0" Stretch="Fill" StrokeThickness="1" StrokeJoin="Bevel">
                  <Rectangle.Stroke>
                    <RadialGradientBrush RadiusX="100%" RadiusY="64%" Center="100%,50%" GradientOrigin="100%,50%">
                      <RadialGradientBrush.GradientStops>
                        <GradientStop Color="#B3000000" Offset="0.00436681"/>
                        <GradientStop Color="#00000000" Offset="0.253275"/>
                        <GradientStop Color="#00000000" Offset="0.741525"/>
                        <GradientStop Color="#B3000000" Offset="1"/>
                      </RadialGradientBrush.GradientStops>
                      <RadialGradientBrush.Transform>
                        <TransformGroup>
                          <RotateTransform CenterX="1" CenterY="0.5" Angle="180"/>
                        </TransformGroup>
                      </RadialGradientBrush.Transform>
                    </RadialGradientBrush>
                  </Rectangle.Stroke>
                  <Rectangle.Fill>
                    <LinearGradientBrush StartPoint="1,0.5" EndPoint="4.57192e-007,0.5">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#B3000000" Offset="0.00436681"/>
                        <GradientStop Color="#00000000" Offset="0.253275"/>
                        <GradientStop Color="#00000000" Offset="0.741525"/>
                        <GradientStop Color="#B3000000" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Rectangle.Fill>
                </Rectangle>
                <Path x:Name="Path_93" Width="100" Height="2.4" Canvas.Left="3.79262e-006" Canvas.Top="7.6" Stretch="Fill" Data="F1 M 47.5477,7.6L 52.5442,7.6C 73.2806,7.6 99.2259,8.66901 100,10L 3.79262e-006,10C 0.776753,8.66901 26.8113,7.6 47.5477,7.6 Z ">
                  <Path.Fill>
                    <LinearGradientBrush StartPoint="1,0.500001" EndPoint="8.14092e-008,0.500001">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#0DFFFFFF" Offset="0.00847458"/>
                        <GradientStop Color="#CCFFFFFF" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Path.Fill>
                </Path>
                <Path x:Name="Path_94" Width="100" Height="2.4" Canvas.Left="3.79262e-006" Canvas.Top="9.53674e-007" Stretch="Fill" Data="F1 M 47.5477,2.4L 52.5442,2.4C 73.2806,2.4 99.2259,1.33099 100,9.53674e-007L 3.79262e-006,9.53674e-007C 0.776753,1.33099 26.8113,2.4 47.5477,2.4 Z ">
                  <Path.Fill>
                    <LinearGradientBrush StartPoint="1,0.499999" EndPoint="8.14092e-008,0.499999">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#0DFFFFFF" Offset="0.00847458"/>
                        <GradientStop Color="#CCFFFFFF" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Path.Fill>
                </Path>
              </Canvas>
            </Viewbox>
          </Canvas>
        </Viewbox>
      </ControlTemplate>
    </Setter>

    <!-- Animation States: ReqRunState=True, RunState=False, IsTriggered=False -->
    <Style Selector="^[ReqRunState=True][RunState=False][IsTriggered=False] /template/ Rectangle#RunStateFront">
      <Setter Property="StrokeThickness" Value="2"/>
      <Setter Property="StrokeDashArray" Value="4,4"/>
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="StrokeDashOffset" Value="8"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Animation States: IsTriggered=True -->
    <Style Selector="^[IsTriggered=True] /template/ Rectangle#RunStateFront">
      <Setter Property="StrokeThickness" Value="2"/>
      <Setter Property="StrokeDashArray" Value="4,4"/>
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="StrokeDashOffset" Value="8"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- OperatingMode Manual -->
    <Style Selector="^[OperatingMode=Manual] /template/ Path#OpModeBack">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].BorderBrushManual}"/>
    </Style>

    <!-- OperatingMode Maintenance -->
    <Style Selector="^[OperatingMode=Maintenance] /template/ Path#OpModeBack">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].BorderBrushMaint}"/>
    </Style>

    <!-- OperatingMode InActive -->
    <Style Selector="^[OperatingMode=Inactive] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="Black"/>
    </Style>

    <!-- RunState True and FaultState Off -->
    <Style Selector="^[RunState=True][FaultState=Off] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushRunning}"/>
    </Style>

    <!-- IsInterlocked True and FaultState Off -->
    <Style Selector="^[IsInterlocked=True][FaultState=Off] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushInterlocked}"/>
    </Style>

    <!-- FaultState AlarmOrFault -->
    <Style Selector="^[FaultState=AlarmOrFault] /template/ Rectangle#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushFault}"/>
    </Style>
  </ControlTheme>
</ResourceDictionary>
