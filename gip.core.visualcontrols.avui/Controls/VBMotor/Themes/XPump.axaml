<ResourceDictionary
   xmlns="https://github.com/avaloniaui"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:local="clr-namespace:gip.core.visualcontrols.avui">

  <ControlTheme x:Key="Pump" TargetType="local:VBMotor">
    <Setter Property="Template">
      <ControlTemplate>
        <Viewbox Stretch="Fill">
          <Canvas Width="200" Height="200">
            <Path x:Name="OpModeBack" Width="200" Height="200" Canvas.Left="1.90735e-006" Canvas.Top="0" Stretch="Fill"
                  Stroke="{TemplateBinding BorderBrushAuto}"
                  Fill="{TemplateBinding BorderBrushAuto}"
                  Data="F1 M 101,0L 99,0C 44.3238,0 1.90735e-006,44.3238 1.90735e-006,99L 1.90735e-006,101C 1.90735e-006,155.677 44.3238,200 99,200L 101,200C 155.676,200 200,155.677 200,101L 200,99C 200,44.3238 155.676,0 101,0 Z "/>
            <Path x:Name="RunStateFront" Width="174" Height="174" Canvas.Left="13.0002" Canvas.Top="13.0001" Stretch="Fill"
                  StrokeThickness="4" StrokeJoin="Round"
                  Stroke="#FF000000"
                  Fill="{TemplateBinding FillBrushIdle}"
                  Data="F1 M 100,15.0001L 100,15.0001C 53.056,15.0001 15.0002,53.0559 15.0002,100L 15.0002,100C 15.0002,146.944 53.056,185 100,185L 100,185C 146.945,185 185,146.944 185,100L 185,100C 185,53.0559 146.945,15.0001 100,15.0001 Z "/>
            <Viewbox x:Name="Rotor" Width="170" Height="170" Canvas.Left="14.9999" Canvas.Top="15.0001" IsVisible="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Rotor}">
              <Canvas Width="170" Height="170">
                <Path x:Name="Rot2_169" Width="85" Height="85.0001" Canvas.Left="-3.8147e-006" Canvas.Top="85.0002" Stretch="Fill" Fill="#4D000000" Data="F1 M 84.1501,170L 85,170L 85,85.0002L -3.8147e-006,85.0002L -3.8147e-006,85.8502C -3.8147e-006,132.325 37.6753,170 84.1501,170 Z "/>
                <Path x:Name="Rot1_170" Width="85" Height="85.0001" Canvas.Left="85" Canvas.Top="0" Stretch="Fill" Fill="#4D000000" Data="F1 M 85.8499,0L 85,0L 85,85.0001L 170,85.0001L 170,84.1501C 170,37.6753 132.325,0 85.8499,0 Z "/>
              </Canvas>
              <Viewbox.RenderTransform>
                <RotateTransform Angle="0"
                                CenterX="85"
                                CenterY="85" />
              </Viewbox.RenderTransform>
            </Viewbox>
            <Path x:Name="DecoDirection" Width="168" Height="88.0001" Canvas.Left="16" Canvas.Top="16.0002" Stretch="Fill" StrokeThickness="8" StrokeLineCap="Round" StrokeJoin="Round" Stroke="#FF000000" Data="F1 M 20,100L 100,20.0002L 180,100"/>
            <Viewbox x:Name="Glass" Width="170" Height="170" Canvas.Left="15.0002" Canvas.Top="15.0001" IsVisible="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=GlassEffect}">
              <Canvas Width="170" Height="170">
                <Path x:Name="Path_173" Width="148.922" Height="113.494" Canvas.Left="10.359" Canvas.Top="0.0395508" Stretch="Fill" Data="F1 M 88.4709,0.0395508L 81.0327,0.0395508C 49.6922,0.0395508 10.359,25.446 10.359,56.7865L 10.359,56.7865C 10.359,88.127 35.7655,113.534 67.106,113.534L 102.535,113.534C 133.875,113.534 159.281,88.127 159.281,56.7865L 159.281,56.7865C 159.281,25.446 119.811,0.0395508 88.4709,0.0395508 Z ">
                  <Path.Fill>
                    <LinearGradientBrush StartPoint="0.505399,1.00035" EndPoint="0.505399,0.00368234">
                      <LinearGradientBrush.GradientStops>
                        <GradientStop Color="#0DFFFFFF" Offset="0.00847458"/>
                        <GradientStop Color="#CCFFFFFF" Offset="1"/>
                      </LinearGradientBrush.GradientStops>
                    </LinearGradientBrush>
                  </Path.Fill>
                </Path>
                <Path x:Name="Path_174" Width="169.999" Height="170" Canvas.Left="0" Canvas.Top="0" Stretch="Fill" Data="F1 M 84.9997,0L 84.9997,0C 38.0557,0 0,38.0557 0,84.9998L 0,85.0002C 0,131.944 38.0557,170 84.9997,170L 84.9997,170C 131.944,170 169.999,131.944 169.999,85.0002L 169.999,84.9998C 169.999,38.0557 131.944,0 84.9997,0 Z ">
                  <Path.Fill>
                    <RadialGradientBrush RadiusX="0.500002" RadiusY="0.500001" Center="0.500001,0.499999" GradientOrigin="0.500001,0.499999">
                      <RadialGradientBrush.GradientStops>
                        <GradientStop Color="#00000000" Offset="0.741525"/>
                        <GradientStop Color="#B3000000" Offset="1"/>
                      </RadialGradientBrush.GradientStops>
                    </RadialGradientBrush>
                  </Path.Fill>
                </Path>
              </Canvas>
            </Viewbox>
          </Canvas>
        </Viewbox>
      </ControlTemplate>
    </Setter>

    <!-- Animation States: ReqRunState=True, RunState=False, IsTriggered=False -->
    <Style Selector="^[ReqRunState=True][RunState=False][IsTriggered=False] /template/ Path#RunStateFront">
      <Setter Property="StrokeThickness" Value="8"/>
      <Setter Property="StrokeDashArray" Value="4,4"/>
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="StrokeDashOffset" Value="8"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Animation States: IsTriggered=True -->
    <Style Selector="^[IsTriggered=True] /template/ Path#RunStateFront">
      <Setter Property="StrokeThickness" Value="8"/>
      <Setter Property="StrokeDashArray" Value="4,4"/>
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
          <KeyFrame Cue="50%">
            <Setter Property="StrokeDashOffset" Value="8"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="StrokeDashOffset" Value="0"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Rotor Animation Left Slow -->
    <Style Selector="^[ReqRunState=True][ReqDirectionLeft=True][SpeedFast=False][FaultState=Off][AnimationOff=False] /template/ Viewbox#Rotor">
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:2">
          <KeyFrame Cue="0%">
            <Setter Property="RenderTransform" Value="rotate(0deg)"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="RenderTransform" Value="rotate(-360deg)"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Rotor Animation Right Slow -->
    <Style Selector="^[ReqRunState=True][ReqDirectionLeft=False][SpeedFast=False][FaultState=Off][AnimationOff=False] /template/ Viewbox#Rotor">
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:2">
          <KeyFrame Cue="0%">
            <Setter Property="RenderTransform" Value="rotate(0deg)"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="RenderTransform" Value="rotate(360deg)"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Rotor Animation Left Fast -->
    <Style Selector="^[ReqRunState=True][ReqDirectionLeft=True][SpeedFast=True][FaultState=Off][AnimationOff=False] /template/ Viewbox#Rotor">
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="RenderTransform" Value="rotate(0deg)"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="RenderTransform" Value="rotate(-360deg)"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- Rotor Animation Right Fast -->
    <Style Selector="^[ReqRunState=True][ReqDirectionLeft=False][SpeedFast=True][FaultState=Off][AnimationOff=False] /template/ Viewbox#Rotor">
      <Style.Animations>
        <Animation IterationCount="Infinite" Duration="0:0:1">
          <KeyFrame Cue="0%">
            <Setter Property="RenderTransform" Value="rotate(0deg)"/>
          </KeyFrame>
          <KeyFrame Cue="100%">
            <Setter Property="RenderTransform" Value="rotate(360deg)"/>
          </KeyFrame>
        </Animation>
      </Style.Animations>
    </Style>

    <!-- OperatingMode Manual -->
    <Style Selector="^[OperatingMode=Manual] /template/ Path#OpModeBack">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].BorderBrushManual}"/>
    </Style>

    <!-- OperatingMode Maintenance -->
    <Style Selector="^[OperatingMode=Maintenance] /template/ Path#OpModeBack">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].BorderBrushMaint}"/>
    </Style>

    <!-- OperatingMode InActive -->
    <Style Selector="^[OperatingMode=Inactive] /template/ Path#RunStateFront">
      <Setter Property="Fill" Value="Black"/>
    </Style>

    <!-- RunState True and FaultState Off -->
    <Style Selector="^[RunState=True][FaultState=Off] /template/ Path#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushRunning}"/>
    </Style>

    <!-- IsInterlocked True and FaultState Off -->
    <Style Selector="^[IsInterlocked=True][FaultState=Off] /template/ Path#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushInterlocked}"/>
    </Style>

    <!-- FaultState AlarmOrFault -->
    <Style Selector="^[FaultState=AlarmOrFault] /template/ Path#RunStateFront">
      <Setter Property="Fill" Value="{Binding $parent[local:VBMotor].FillBrushFault}"/>
    </Style>
  </ControlTheme>
</ResourceDictionary>
