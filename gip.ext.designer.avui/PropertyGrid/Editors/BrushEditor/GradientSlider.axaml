<UserControl x:Class="gip.ext.designer.avui.PropertyGrid.Editors.BrushEditor.GradientSlider"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:BrushEditor="using:gip.ext.designer.avui.PropertyGrid.Editors.BrushEditor"
>
	<UserControl.Resources>
		
		<DataTemplate x:Key="GradientStopTemplate">
			<Grid>
				<Path x:Name="thumb"
				      Data="m 6 0 l 6 5 v 12 h -12 v -12 z"
				      Stroke="Black"
				      Fill="Orange" />
				<Border Margin="2 7 2 2"
				        BorderBrush="Black"
				        BorderThickness="1">
					<Border BorderBrush="White"
					        BorderThickness="1">
						<Border.Background>
							<SolidColorBrush Color="Red" />
						</Border.Background>
					</Border>
				</Border>
			</Grid>
		</DataTemplate>

    <ControlTheme x:Key="{x:Type BrushEditor:GradientThumb}" TargetType="BrushEditor:GradientThumb">
			<Setter Property="BrushEditor:NormalizedPanel.X"
			        Value="{Binding Offset}" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate>
						<StackPanel>
							<Path x:Name="thumb"
							      Data="m 0 0 l 6 -5 l 6 5"
							      Stroke="Black"
							      Fill="White" />
							<Border BorderBrush="Black"
							        BorderThickness="1"
							        Width="12"
							        Height="12">
								<Border BorderBrush="White"
								        BorderThickness="1">
									<Border.Background>
										<SolidColorBrush Color="{Binding Color}" />
									</Border.Background>
								</Border>
							</Border>
						</StackPanel>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</ControlTheme>

    <ControlTheme x:Key="{x:Type BrushEditor:Dragger}" TargetType="BrushEditor:Dragger">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate>
						<Border BorderBrush="{TemplateBinding BorderBrush}"
						        BorderThickness="{TemplateBinding BorderThickness}"
						        Background="{TemplateBinding Background}" />
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</ControlTheme>
	
	</UserControl.Resources>
	
	<Grid>
		<BrushEditor:Dragger x:Name="strip"
		           BorderBrush="Black"
		           BorderThickness="1"
		           VerticalAlignment="Top"
		           Height="20"
		           Margin="6 0 6 0">
			<BrushEditor:Dragger.Background>
				<LinearGradientBrush EndPoint="1,0"
					GradientStops="{Binding Brush.GradientStops, ElementName=this}" />
			</BrushEditor:Dragger.Background>
		</BrushEditor:Dragger>
		<BrushEditor:GradientItemsControl x:Name="itemsControl"
			ItemsSource="{Binding GradientStops, ElementName=this}"
			Margin="6 28 6 10">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<BrushEditor:NormalizedPanel />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>
		</BrushEditor:GradientItemsControl>
	</Grid>

</UserControl>
