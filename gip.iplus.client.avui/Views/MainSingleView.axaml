<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vb="http://www.iplus-framework.com/axaml"
             xmlns:local="clr-namespace:gip.iplus.client.avui"
             mc:Ignorable="d" 
             x:Class="gip.iplus.client.avui.MainSingleView">
	<Panel x:Name="MainDockPanel">
        <SplitView x:Name="MainSplitView"
                   DisplayMode="Overlay"
                   IsPaneOpen="False"
                   OpenPaneLength="300"
                   CompactPaneLength="50"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Stretch">
            <SplitView.Pane>
                <vb:VBSideMenu x:Name="MainMenu" Height="{Binding ElementName=MainSplitView, Path=Height}" VerticalAlignment="Top" />
            </SplitView.Pane>
            <SplitView.Content>
                <Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                
                    <Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <ToggleButton x:Name="MenuToggleButton"
                                      Grid.Column="0"
                                      Width="40"
                                      Height="40"
                                      Margin="5"
                                      HorizontalAlignment="Left"
                                      VerticalAlignment="Center"
                                      IsChecked="{Binding IsPaneOpen, ElementName=MainSplitView, Mode=TwoWay}"
                                      IsVisible="{Binding IsMainDesignActive, ElementName=MainContentControl}">
                            <Path Data="M0,0 L20,0 L20,3 L0,3 Z M0,7 L20,7 L20,10 L0,10 Z M0,14 L20,14 L20,17 L0,17 Z"
                                  Fill="Black"
                                  Stretch="Uniform"
                                  Width="20"
                                  Height="17"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
                        </ToggleButton>
                        <vb:VBButton x:Name="BackButton" IsVisible="{Binding !IsMainDesignActive, ElementName=MainContentControl}" Click="BackButton_Click" >
                            <Path Data="M15,8 L5,8 M8,5 L5,8 L8,11"
                                      Fill="Black"
                                      Stroke="Black"
                                      StrokeThickness="2"
                                      Stretch="Uniform"
                                      Width="20"
                                      Height="16"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
							
                        </vb:VBButton>
                    </Grid>

                    <vb:VBDesignController x:Name="MainContentControl"
                                     Grid.Row="1"
                                     Margin="0"
                                     HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch"
                                     />
                </Grid>
            </SplitView.Content>
         </SplitView>
	</Panel>

</UserControl>
