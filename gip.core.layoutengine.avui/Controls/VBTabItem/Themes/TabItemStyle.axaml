<ResourceDictionary
   xmlns="https://github.com/avaloniaui"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:local="clr-namespace:gip.core.layoutengine.avui">

    <!-- Close Button Control Theme -->
    <ControlTheme x:Key="CloseButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <ControlTemplate TargetType="Button">
                <Canvas Height="16" Width="16">
                    <Rectangle x:Name="Kreis" Height="16" Width="16" RadiusX="4" RadiusY="4" Fill="{StaticResource CloseButtonBrushStyle}"/>
                    <Path x:Name="CheckPath"
                          Width="10" 
                          Height="8" 
                          Canvas.Left="3" 
                          Canvas.Top="4" 
                          Stretch="Fill" 
                          StrokeLineCap="Round" 
                          
                          StrokeJoin="Round" 
                          Stroke="{StaticResource CloseButtonBorderBrush}" 
                          Fill="{StaticResource CloseButtonFillBrush}" 
                          Data="F1 M 0,9L 4.5,16L 16,2L 4.5,12L 0,9.0 Z "/>
                </Canvas>
            </ControlTemplate>
        </Setter>

        <Style Selector="^:pointerover /template/ Rectangle#Kreis">
            <Setter Property="Fill" Value="{StaticResource CloseButtonBrushHotStyle}"/>
        </Style>
        <Style Selector="^:pointerover /template/ Path#CheckPath">
            <Setter Property="Stroke" Value="{StaticResource CloseButtonBorderBrushHot}"/>
            <Setter Property="Fill" Value="{StaticResource CloseButtonFillBrushHot}"/>
        </Style>
    </ControlTheme>

    <!-- Ribbon Switch Button Control Theme -->
    <ControlTheme x:Key="RibbonSwitchButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <ControlTemplate TargetType="Button">
                <Canvas Height="16" Width="16">
                    <Rectangle x:Name="Kreis" Height="16" Width="16" RadiusX="4" RadiusY="4" Fill="{StaticResource CloseButtonBrushStyle}"/>
                    <Path x:Name="TrianglePath" Width="6" Height="4" Canvas.Left="5" Canvas.Top="7" Stretch="Fill" StrokeJoin="Round" Stroke="{StaticResource CloseButtonBorderBrush}" Fill="{StaticResource CloseButtonFillBrush}" Data="F1 M 8,10.5L 10.5,7.5L 5.5,7.5L 8,10.5 Z "/>
                    <Path x:Name="IconPath" Width="6" Height="1" Canvas.Left="5" Canvas.Top="4.5" Stretch="Fill" StrokeLineCap="Round" StrokeJoin="Round" Stroke="{StaticResource CloseButtonBorderBrush}" Data="F1 M 5.5,5L 10.5,5"/>
                </Canvas>
            </ControlTemplate>
        </Setter>

        <Style Selector="^:pointerover /template/ Rectangle#Kreis">
            <Setter Property="Fill" Value="{StaticResource CloseButtonBrushHotStyle}"/>
        </Style>
        <Style Selector="^:pointerover /template/ Path#IconPath">
            <Setter Property="Stroke" Value="{StaticResource CloseButtonBorderBrushHot}"/>
        </Style>
        <Style Selector="^:pointerover /template/ Path#TrianglePath">
            <Setter Property="Stroke" Value="{StaticResource CloseButtonBorderBrushHot}"/>
            <Setter Property="Fill" Value="{StaticResource CloseButtonFillBrushHot}"/>
        </Style>
    </ControlTheme>

    <!-- VBTabItem Control Theme -->
    <ControlTheme x:Key="{x:Type local:VBTabItem}" TargetType="{x:Type local:VBTabItem}">
        <Setter Property="Foreground" Value="{StaticResource TabItemFgNormalBrush}"/>
        <Setter Property="Padding" Value="6,1,6,1"/>
        <Setter Property="BorderBrush" Value="{StaticResource TabItemNormalBorderBrush}"/>
        <Setter Property="Background" Value="{StaticResource TabItemNormalBackground}"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Stretch"/>
        <Setter Property="FocusAdorner" Value="{x:Null}"/>
        <Setter Property="Template">
            <ControlTemplate>
                <Grid>
                    <Border x:Name="PART_TabItemBorder" CornerRadius="5,5,0,0" 
                            Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="1,1,0,0"
                            Margin="2,2,-2,0"
                            Padding="{TemplateBinding Padding}">
                        <Grid x:Name="gridParent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5*" MinWidth="50" MaxWidth="300"/>
                                <ColumnDefinition Width="1*" MaxWidth="20"/>
                                <ColumnDefinition Width="1*" MaxWidth="20"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Line x:Name="PART_DragableGrip" StartPoint="0,0" EndPoint="150,0" 
                                  Stroke="#FF7C7C7C" StrokeDashArray="1,4"
                                  StrokeThickness="1" Grid.ColumnSpan="3" 
                                  ClipToBounds="True" Margin="5,0,5,0" MinWidth="50" MaxWidth="150" MaxHeight="1"
                                  IsVisible="False"/>
                            <ContentPresenter Grid.Row="1" Grid.Column="0" x:Name="PART_ContentPresenter" 
                                              Content="{TemplateBinding Header}" 
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                            <Button Grid.Row="1" Grid.Column="2" x:Name="PART_CloseButton" Theme="{StaticResource CloseButtonStyle}" 
                                    Margin="4,0,0,0" MinWidth="5" MinHeight="5" Height="16" Width="16" 
                                    VerticalAlignment="Center" HorizontalAlignment="Left" 
                                    IsVisible="False"
                                    Cursor="Arrow"/>
                            <Button Grid.Row="1" Grid.Column="1" x:Name="PART_RibbonSwitchButton" Theme="{StaticResource RibbonSwitchButtonStyle}" 
                                Margin="4,0,0,0" MinWidth="5" MinHeight="5" Height="16" Width="16" 
                                VerticalAlignment="Center" HorizontalAlignment="Left" 
                                IsVisible="False"
                                Cursor="Arrow"/>
                        </Grid>
                    </Border>
                </Grid>
            </ControlTemplate>
        </Setter>

        <!-- ShowRibbonBar = false + TabItemCount = 1 + ShowCaption = false -->
        <Style Selector="^[ShowRibbonBar=False][TabItemCount=1][ShowCaption=False] /template/ Border#PART_TabItemBorder">
            <Setter Property="IsVisible" Value="False"/>
        </Style>

        <!-- Mouse Over -->
        <Style Selector="^:pointerover /template/ Border#PART_TabItemBorder">
            <Setter Property="Background" Value="{StaticResource TabItemHotBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource TabItemHotBorderBrush}"/>
        </Style>

        <!-- Selected -->
        <Style Selector="^:selected">
            <Setter Property="ZIndex" Value="1"/>
            <Setter Property="Foreground" Value="{StaticResource TabItemFgSelectedBrush}"/>
        </Style>
        
        <Style Selector="^:selected /template/ Border#PART_TabItemBorder">
            <Setter Property="Background" Value="{StaticResource TabItemSelectedBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource TabItemSelectedBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1,1,0,0"/>
        </Style>

        <!-- IsDragable = true -->
        <Style Selector="^[IsDragable=True] /template/ Line#PART_DragableGrip">
            <Setter Property="IsVisible" Value="True"/>
        </Style>

        <!-- WithVisibleCloseButton + Selected -->
        <Style Selector="^[WithVisibleCloseButton=True]:selected /template/ Button#PART_CloseButton">
            <Setter Property="IsVisible" Value="True"/>
        </Style>

        <!-- WithVisibleCloseButton + PointerOver -->
        <Style Selector="^[WithVisibleCloseButton=True]:pointerover /template/ Button#PART_CloseButton">
            <Setter Property="IsVisible" Value="True"/>
        </Style>

        <!-- ShowRibbonBar + Selected -->
        <Style Selector="^[ShowRibbonBar=True]:selected /template/ Button#PART_RibbonSwitchButton">
            <Setter Property="IsVisible" Value="True"/>
        </Style>

        <!-- ShowRibbonBar + PointerOver -->
        <Style Selector="^[ShowRibbonBar=True]:pointerover /template/ Button#PART_RibbonSwitchButton">
            <Setter Property="IsVisible" Value="True"/>
        </Style>

        <!-- Not Selected + PointerOver -->
        <Style Selector="^:not(:selected):pointerover">
            <Setter Property="Foreground" Value="{StaticResource CtrlTxtEnabled}"/>
        </Style>
        
        <Style Selector="^:not(:selected):pointerover /template/ Border#PART_TabItemBorder">
            <Setter Property="BorderBrush" Value="{StaticResource TabItemHotBorderBrush}"/>
        </Style>

        <!-- IsDragable + Selected + PointerOver -->
        <Style Selector="^[IsDragable=True]:selected:pointerover /template/ Border#PART_TabItemBorder">
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <!-- TabStripPlacement States -->
        <Style Selector="^[TabStripPlacement=Bottom] /template/ Border#PART_TabItemBorder">
            <Setter Property="BorderThickness" Value="1,0,1,1"/>
        </Style>

        <Style Selector="^[TabStripPlacement=Left] /template/ Border#PART_TabItemBorder">
            <Setter Property="BorderThickness" Value="1,1,0,1"/>
        </Style>

        <Style Selector="^[TabStripPlacement=Right] /template/ Border#PART_TabItemBorder">
            <Setter Property="BorderThickness" Value="0,1,1,1"/>
        </Style>

        <!-- Selected + TabStripPlacement = Top -->
        <Style Selector="^:selected[TabStripPlacement=Top]">
            <Setter Property="Margin" Value="-2,-2,-2,-2"/>
        </Style>

        <!-- Selected + TabStripPlacement = Bottom -->
        <Style Selector="^:selected[TabStripPlacement=Bottom]">
            <Setter Property="Margin" Value="-2,-1,-2,-2"/>
        </Style>

        <!-- Selected + TabStripPlacement = Left -->
        <Style Selector="^:selected[TabStripPlacement=Left]">
            <Setter Property="Margin" Value="-2,-2,-1,-2"/>
        </Style>

        <!-- Selected + TabStripPlacement = Right -->
        <Style Selector="^:selected[TabStripPlacement=Right]">
            <Setter Property="Margin" Value="-1,-2,-2,-2"/>
        </Style>

        <!-- Disabled -->
        <Style Selector="^:disabled">
            <Setter Property="Foreground" Value="{StaticResource CtrlTxtDisabled}"/>
        </Style>
        
        <Style Selector="^:disabled /template/ Border#PART_TabItemBorder">
            <Setter Property="Background" Value="{StaticResource TabItemDisabledBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource TabItemDisabledBorderBrush}"/>
        </Style>
    </ControlTheme>
</ResourceDictionary>
