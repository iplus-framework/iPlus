<ResourceDictionary
   xmlns="https://github.com/avaloniaui"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:local="clr-namespace:gip.core.layoutengine.avui">

  <ControlTheme x:Key="{x:Type local:VBXMLEditor}" TargetType="{x:Type local:VBXMLEditor}">
    <Setter Property="FontFamily" Value="Consolas"/>
    <Setter Property="FontSize" Value="10"/>
    <Setter Property="Foreground" Value="{StaticResource TextEditorFgEnabled}"/>
    <Setter Property="Background" Value="{StaticResource TextEditorBgEnabled}"/>
    <Setter Property="BorderBrush" Value="{StaticResource TextEditorBorderEnabled}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type local:VBXMLEditor}">
          <Border x:Name="Border"
              CornerRadius="3"
              BorderBrush="{TemplateBinding BorderBrush}"
              BorderThickness="{TemplateBinding BorderThickness}"
              Background="{TemplateBinding Background}">
            <ScrollViewer
                Focusable="False"
                Name="PART_ScrollViewer"
                VerticalScrollBarVisibility="Auto"
                HorizontalScrollBarVisibility="{Binding WordWrap, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static local:BooleanToScrollBarVisibilityConverter.Instance}}"
                Content="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TextArea}"
                VerticalContentAlignment="Top"
                HorizontalContentAlignment="Left"
                Background="{TemplateBinding Background}"
                Padding="{TemplateBinding Padding}"
                Margin="2"/>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>

    <!-- WordWrap style using pseudo-class selector -->
    <Style Selector="^[WordWrap=True] /template/ ScrollViewer#PART_ScrollViewer">
      <Setter Property="HorizontalScrollBarVisibility" Value="Disabled" />
    </Style>
  </ControlTheme>
</ResourceDictionary>
